<body>
    <p-toast position="top-center"></p-toast>
    <div class="container">
        <!-- <div class="heading">Dashboard</div> -->
        <div class="metrics">
            <div class="daily-metrics">
                <div class="daiy-heading-container">
                    <div class="daily-metrics-heading">
                        <p>Dashboard</p>
                        <div class="daily-select">
                            <div class="date-icon">
                                <img src="assets/calendar-icon.svg" alt="calendar-icon">
                                <select name="time period" [(ngModel)]="time_period"
                                    (ngModelChange)="onTimePeriodChange()">
                                    <option *ngFor="let option of time_period_options" [value]="option.value">{{
                                        option.label }}</option>
                                </select>
                            </div>

                            <div>
                                <button class="clear-filter" (click)="clearFilter()">Clear Filter</button>
                            </div>

                        </div>
                    </div>
                    <div class="black-line"></div>
                </div>
                <div class="block1">
                    <div class="daily-metrics-1">
                        <div class="row1">
                            <div class="box1">
                                <p>Impressions</p>
                                {{impressions | thousandSuff : 2}}
                            </div>
                            <div class="box1">
                                <p>Clicks</p>
                                {{clicks | thousandSuff : 2}}
                            </div>
                            <div class="box1 end">
                                <p>Revenue</p>
                                {{revenue | currency: 'USD': 'symbol': '1.0-0'}}
                            </div>
                        </div>
                        <div class="row2">
                            <div class="box1">
                                <p>Fill Rate (%)</p>
                                {{fill_rate/100 | percent: '.1-1' }}
                            </div>
                            <div class="box1">
                                <p>CTR (%)</p>
                                {{ctr /100 | percent: '.1-1'}}
                            </div>
                            <div class="box1 end">
                                <p>CPM</p>
                                {{cpm | currency: 'USD' : 'symbol' : '1.1-2'}}
                            </div>
                        </div>
                        <div class="row3">
                            <div class="box1">
                              <p>Ad Requests</p>
                              {{ad_request | thousandSuff : 2}}
                            </div>
                            <div class="box1">
                              <p>Ad Response</p>
                              {{ad_response | thousandSuff : 2}}
                            </div>
                            <div class="box1 end">
                              <p>Error Rate (%)</p>
                              {{ error_rate/100 | percent: '.1-3' }}
                            </div>
                          </div>
              
                          <div class="row4">
                            <div class="box1">
                              <p>Viewability (%)</p>
                              {{total_viewable /100 | percent: '.1-1'}}
                            </div>
                            <div class="box1">
                              <p>Viewable Impressions</p>
                              {{ viewable_impressions | thousandSuff : 2}}
                            </div>
                            <div class="box1 end">
                              <p>Measurable Impressions</p>
                              {{ measurable_impressions | thousandSuff : 2 }}
                            </div>
                          </div>
                    </div>
  
                    <div class="daily-metrics-2">
                        <div class="daily-2-select">
                            <p style="margin: 0">Overall Metrics</p>
                            <div class="overall-select">
                                <select name="overall_metrics" id="overall_metrics" [(ngModel)]="overall_metrics"
                                    (change)="overall_metrics_changed()">
                                    <option *ngFor="let options of metrics_options" [value]="options.value">
                                        {{options.label}}</option>
                                </select>
                            </div>
                            <button id="dw1" (click)="downloadChart1()"><img src="assets/download-icon.svg"  alt="download button" ></button>

                        </div>
                        <div class="black-line">
                        </div>
                        <div class="image">
                            <canvas #canvas1 id="canvas1"></canvas>
                        </div>
                    </div>
                </div>


            </div>
            <div class="block2">
                <div class="device-metrics">
                    <div class="device-metrics-top">
                        <div class="device-heading">
                            <p>Device Metrics</p>
                        </div>
                        <div class="device-select">
                            <select name="device_metrics" id="device_metrics" [(ngModel)]="device_metrics"
                                (change)="device_metrics_changed()">
                                <option *ngFor="let options of metrics_options" [value]="options.value">
                                    {{options.label}}</option>
                            </select>
                        </div>
                        <button id="dw2" (click)="downloadChart2()"><img src="assets/download-icon.svg"  alt="download button" ></button>
                    </div>
                    <div class="black-line"></div>
                    <div class="image">
                        
                        <canvas #canvas2 id="canvas2"></canvas>
                    </div>
                </div>



                <div class="country-metrics">
                    <div class="country-metrics-top">
                        <div class="country-heading">
                            <p>Country Metrics</p>

                        </div>

                        <div class="country-select">
                            <select name="country_metrics" id="country_metrics" [(ngModel)]="country_metrics"
                                (change)="country_metrics_changed()">
                                <option *ngFor="let options of metrics_options" [value]="options.value">
                                    {{options.label}}</option>
                            </select>
                        </div>
                        <button id="dw3" (click)="downloadChart3()"><img src="assets/download-icon.svg"  alt="download button" ></button>
                    </div>
                    <div class="black-line">
                    </div>
                    <div class="image">
                       
                        <canvas #canvas3 id="canvas3"></canvas>
                    </div>
                    <div class="country-data">
                        <button (click)="prevData()"><img src="assets/previous-arrow.svg" alt="previous arrow"></button>
                        <button (click)="nextData()"><img src="assets/next-arrow.svg" alt="next arrow" ></button>
                      </div>

                </div>

            </div>
        </div>
    </div>
</body>